.panel.panel-default
  .panel-heading
    = @chain.name
  .panel-body
    #cal-heatmap
    %br
    #onClick-placeholder
    #info
      Toplam #{@chain.rings.count} gün zincire halka eklenmiş.

:javascript
  var data = #{@data};

  var cal = new CalHeatMap();
  cal.init({
    itemSelector: "#cal-heatmap",
    domain: "year",
    subDomain: "day",
    cellSize: 19,
    start: new Date(2017, 0),
    range: 1,
    data: data,
    legendColors: {
  		min: "#efefef",
  		max: "steelblue"
  	},
    legendVerticalPosition: "bottom",
    legendHorizontalPosition: "right",
    onClick: function(date, nb) {
  		$("#onClick-placeholder").html(
         formatDate(date) + " tarihinde " +
  			(nb === null ? "girdi yok." : (nb + " girdi var."))
  		);
  	},
    legend: [10,20,30,40,50,60,70,80,90,100]
  });
  function formatDate(date) {
    var monthNames = [
      "Ocak", "Şubat", "Mart",
      "Nisan", "Mayıs", "Haziran", "Temmuz",
      "Ağustos", "Eylül", "Ekim",
      "Kasım", "Aralık"
    ];

    var day = date.getDate();
    var monthIndex = date.getMonth();
    var year = date.getFullYear();

    return day + ' ' + monthNames[monthIndex] + ' ' + year;
  }
